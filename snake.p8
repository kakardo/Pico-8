pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
// start = 2025-07-08 23:22
#include snake_external.lua
#include movement.lua
#include snake.lua

snake = {}
body = {}
fruit = {}

scale = 8

button_pushed = 1
speed = 1
step = 1
just_moved = false

tick_goal = 5
tick_count = 0

fruit.x = 0
fruit.y = 0



function _init()
	init_head()
	init_body()
	spawn_fruit()
end

function _update()
	cls(1)
	check_button_push()

	if (just_moved == false) then
	 move()
	 is_alive()
	 is_fruit_eaten()
	elseif tick_count == tick_goal then
		just_moved = false
		tick_count = 0
	else
	 tick_count += 1
	end

	debug()
end

function _draw()
	if snake.alive then
		draw_snake()
		draw_fruit()
	else
		print("game over")
	end
end
-->8
function check_x(dir,cor)
	if (btn(dir))	then
		if (cor > 0) then
			cor-=8
		end
	end
end
__gfx__
2222222288888888888888888a000000000000a8888888888a000000000000a8000000000000000000000000aaaaaaaa00000000000000000000000000000000
200000028aaaaaaaaaaaaaa88a000000000000a8aaaaaaaa8a000000000000a8000000000333333000000000a000000a00000000000000000000000000000000
207007028a000000000000a88a000000000000a8000000008a000000000000a80000000003bbbb3000aaaa00a000000a00000000000000000000000000000000
200770028a000000000000a88a000000000000a8000000008a000000000000a80000000003bbbb3000aaaa00a000000a00000000000000000000000000000000
200770028a000000000000a88a000000000000a8000000008a000000000000a80000000003bbbb3000aaaa00a000000a00000000000000000000000000000000
207007028a000000000000a88a000000000000a8000000008a000000000000a80000000003bbbb3000aaaa00a000000a00000000000000000000000000000000
200000028a000000000000a88aaaaaaaaaaaaaa8000000008a000000000000a8aaaaaaaa0333333000000000a000000a00000000000000000000000000000000
222222228a000000000000a88888888888888888000000008a000000000000a8888888880000000000000000aaaaaaaa00000000000000000000000000000000
